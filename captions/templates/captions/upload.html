{% extends 'captions/base.html' %}
{% block content %}
<div class="container my-5 text-center">
  <h2 class="mb-4">ğŸ–¼ï¸ AI Image Caption Generator</h2>

<form method="POST" enctype="multipart/form-data" action="{% url 'upload_image' %}" class="mb-5">
    {% csrf_token %}
    <input type="file" name="image" accept="image/*" class="form-control mb-3" required>
    <button type="submit" class="btn btn-success">Generate Caption</button>
  </form>

  {% if image_path %}
  <div class="card p-4 shadow">
    <img src="/{{ image_path }}" class="img-fluid mb-4" alt="Uploaded Image">


    <h4>ğŸ§¾ Captions Generated:</h4>
    <ul class="list-unstyled">
      {% for cap in captions %}
      <li>â€¢ {{ cap }}</li>
      {% endfor %}
    </ul>

    <h5 class="mt-3">ğŸŒ Translations:</h5>
    <ul class="list-unstyled">
      <li><b>Hindi:</b> {{ translations.Hindi }}</li>
      <li><b>Telugu:</b> {{ translations.Telugu }}</li>
      <li><b>German:</b> {{ translations.German }}</li>
    </ul>

    <h5 class="mt-3">ğŸ”Š Audio Outputs:</h5>
    {% for lang, path in audio_files.items %}
      <p><b>{{ lang|upper }}:</b><audio controls><source src="{{ path }}" type="audio/mp3"></audio>

    {% endfor %}

    <hr class="my-4">

    <h4>ğŸ§  Scene Paragraph:</h4>
    <p>{{ paragraph }}</p>

    <h4 class="mt-4">âœ¨ Story Description:</h4>
    <p>{{ story }}</p>
  </div>
  {% endif %}
</div>
{% endblock %}
